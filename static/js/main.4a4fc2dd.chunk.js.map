{"version":3,"sources":["helpers.js","store.js","components/BankSelector.jsx","components/Display.jsx","components/PowerButton.jsx","components/PadLabel.jsx","components/Pad.jsx","components/Pads.jsx","components/Volume.jsx","App.js","reportWebVitals.js","index.js"],"names":["getSoundBankFromTitle","title","soundBanks","filter","data","url","soundBankInit","useStore","set","power","togglePower","state","volume","setVolume","display","setDisplay","bank","setBank","devtools","create","BankSelector","htmlFor","onChange","e","target","value","handleChange","defaultValue","id","name","disabled","Object","values","map","key","Display","PowerButton","toggleOnSound","Audio","toggleOffSound","onClick","play","LabelText","styled","h4","PadLabel","labelText","triggerKey","styles","transform","rotations","style","PadButton","button","Pad","useState","fileName","setFileName","padButtonRef","useRef","padAudioRef","playSound","useCallback","pads","pad","current","pause","currentTime","console","log","useEffect","file","handleKeyPress","toLowerCase","document","addEventListener","removeEventListener","ref","className","src","type","keys","PadsGrid","div","Pads","index","Volume","min","max","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4a4fc2dd.chunk.js","sourcesContent":["import soundBanks from \"./sounds.json\";\n\nconst getSoundBankFromTitle = (title) => {\n  return soundBanks.soundBanks.filter(data => {\n    return data.url === title\n  })[0];\n}\n\nexport default getSoundBankFromTitle;","import create from \"zustand\";\nimport { devtools } from \"zustand/middleware\"\nimport getSoundBankFromTitle from \"./helpers\";\n\nconst soundBankInit = getSoundBankFromTitle(\"nujabes\");\n\nlet useStore = set => ({\n  power: true,\n  togglePower: () => set(state => ({ power: !state.power })),\n  volume: 50,\n  setVolume: (volume) => set(state => ({ ...state, volume })),\n  display: \"Drum Machine\",\n  setDisplay: (display) => set(state => ({ ...state, display })),\n  bank: soundBankInit,\n  setBank: (bank) => {\n    set(state => ({ ...state, bank: getSoundBankFromTitle(bank) }));\n  },\n})\n\nuseStore = devtools(useStore);\nuseStore = create(useStore);\nexport default useStore;\n","import React from \"react\";\nimport useStore from \"../store\";\nimport soundBanks from \"../sounds.json\";\n\nconst BankSelector = () => {\n  const bank = useStore((state) => state.bank);\n  const setBank = useStore((state) => state.setBank);\n  const power = useStore((state) => state.power);\n\n  const handleChange = (e) => {\n    setBank(e.target.value);\n  };\n\n  return (\n    <div>\n      <label htmlFor=\"bank-select\">Choose a Bank</label>\n      <select\n        onChange={(e) => handleChange(e)}\n        defaultValue={bank.url}\n        id=\"bank-select\"\n        name=\"bank\"\n        disabled={!power}\n      >\n        {Object.values(soundBanks.soundBanks).map(key => {\n          return <option key={key.url} value={key.url}>{key.name}</option>\n        })}\n      </select>\n    </div>\n  );\n};\n\nexport default BankSelector;\n","import React from \"react\";\nimport useStore from \"../store\";\n\nconst Display = () => {\n  const display = useStore(state => state.display);\n\n  return <div id=\"display\">Display: {display}</div>;\n};\n\nexport default Display;\n","import React from 'react'\nimport useStore from '../store'\n\nconst PowerButton = () => {\n  const power = useStore(state => state.power);\n  const togglePower = useStore(state => state.togglePower)\n\n  const toggleOnSound = new Audio('sounds/buttons/switch-on.mp3');\n  const toggleOffSound = new Audio('sounds/buttons/switch-off.mp3');\n\n  const handleClick = () => {\n    power\n      ? toggleOffSound.play()\n      : toggleOnSound.play();\n    \n    togglePower();\n  }\n\n  return (\n    <div>\n      <button onClick={handleClick}>Power: { power ? \"on\" : \"off\" }</button>\n    </div>\n  )\n}\n\nexport default PowerButton\n","import styled from \"styled-components\";\nimport rotations from \"../rotations.json\";\n\nconst LabelText = styled.h4`\n  width: 100%;\n  margin: 0;\n  font-family: \"Amatic SC\", cursive;\n  font-size: 20px;\n  background: url(images/check.png) repeat-x 0 0px;\n  display: inline-block;\n  padding: 5px 0px;\n`;\n\nconst PadLabel = ({ labelText, triggerKey }) => {\n  const styles={\n    transform: `rotate(${rotations[triggerKey]}deg)`\n  }\n\n  return <LabelText style={styles}>{labelText}</LabelText>;\n};\n\nexport default PadLabel;\n","import React, { useEffect, useCallback, useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport useStore from \"../store\";\nimport PadLabel from \"./PadLabel\";\n\nconst PadButton = styled.button`\n  border: 1px solid black;\n  width: 200px;\n  margin: auto;\n`;\n\nconst Pad = ({ triggerKey }) => {\n  const setDisplay = useStore((state) => state.setDisplay);\n  const [fileName, setFileName] = useState(\"\");\n  const power = useStore((state) => state.power);\n  const bank = useStore((state) => state.bank);\n  const volume = useStore((state) => state.volume);\n  const padButtonRef = useRef();\n  const padAudioRef = useRef();\n\n  const playSound = useCallback(() => {\n    /*\n     * plays a sound and does all the related side effects\n     * */\n    if (!power) {\n      console.log(\"power is off\");\n      return;\n    }\n\n    setDisplay(bank.pads[triggerKey].name);\n    const pad = padAudioRef.current;\n    pad.pause();\n    pad.currentTime = 0;\n    pad.volume = volume / 100;\n    pad.play();\n  }, [power, setDisplay, triggerKey, volume, bank.pads]);\n\n  useEffect(() => {\n    if (triggerKey === \"Q\") {\n      console.log(\"q useeffect\");\n    }\n    setFileName(`sounds/${bank.url}/${bank.pads[triggerKey].file}`);\n    // putting this in here because it needs to be a callback with a huge\n    // dependency array otherwise\n    const handleKeyPress = (e) => {\n      if (e.key === triggerKey || e.key === triggerKey.toLowerCase()) {\n        playSound();\n      }\n    };\n    document.addEventListener(\"keypress\", handleKeyPress);\n    return () => {\n      document.removeEventListener(\"keypress\", handleKeyPress);\n    };\n  }, [bank, playSound, triggerKey]);\n\n  return (\n    <div>\n      <PadButton\n        ref={padButtonRef}\n        className=\"drum-pad\"\n        id={`drum-pad-${triggerKey}`}\n        onClick={playSound}\n        disabled={!power}\n      >\n        {triggerKey}\n        <audio\n          ref={padAudioRef}\n          className=\"clip\"\n          id={triggerKey}\n          src={fileName}\n          type=\"audio/mpeg\"\n        >\n          Your browser does not support HTML5 audio\n        </audio>\n      </PadButton>\n      <PadLabel\n        triggerKey={triggerKey}\n        labelText={bank.pads[triggerKey].name}\n      />\n    </div>\n  );\n};\n\nexport default Pad;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Pad from \"./Pad\";\n\n// TODO get this by iterating through the bank instead\n// (after passing the FCC requirements, because those don't allow us to have more pads)\n// also try to get 1, 2, 3, 4 back in the grid\nconst keys = [\n  \"Q\",\n  \"W\",\n  \"E\",\n  \"R\",\n  \"A\",\n  \"S\",\n  \"D\",\n  \"F\",\n  \"Z\",\n  \"X\",\n  \"C\",\n  \"V\",\n];\n\nconst PadsGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  gap: 8px;\n`;\n\nconst Pads = () => {\n  return (\n    <PadsGrid>\n      {keys.map((key, index) => (\n        <Pad\n          triggerKey={key}\n          key={`pad-${key}`}\n        />\n      ))}\n    </PadsGrid>\n  );\n};\n\nexport default Pads;\n","import React from \"react\";\nimport useStore from \"../store\";\n\nconst Volume = () => {\n  const volume = useStore((state) => state.volume);\n  const setVolume = useStore((state) => state.setVolume);\n  const power = useStore((state) => state.power);\n\n  const handleVolumeChange = (e) => {\n    setVolume(e.target.value);\n  }\n\n  return (\n    <div>\n      <div className=\"slidecontainer\">\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"100\"\n          value={volume}\n          onChange={handleVolumeChange}\n          className=\"slider\"\n          id=\"myRange\"\n          disabled={!power}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Volume;\n","import \"./App.css\";\nimport BankSelector from \"./components/BankSelector\";\nimport Display from \"./components/Display\";\nimport PowerButton from \"./components/PowerButton\";\nimport Pads from \"./components/Pads\";\nimport Volume from \"./components/Volume\";\n\nfunction App() {\n  return (\n    <div className=\"App\" id=\"drum-machine\">\n      <PowerButton />\n      <Display />\n      <Volume />\n      <BankSelector />\n      <Pads />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}